#!/usr/bin/env bash

# Зареєструвати розсилку push-сповіщень
# POST api/v1/notification/distribution/push

# Request  {"templateId": "string", "recipients": [{"rnokpp": "string", "resourceId?": "string", "parameters?": [{"key": "string", "value": "string"}]}]}
# Response {"distributionId": "string"}
# *max-recipients <= 10 000

curl --location 'https://api2t.diia.gov.ua/api/v1/notification/distribution/push' \
  --header 'Content-Type: application/json' \
  --header 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjoiZXlKbGJtTWlPaUpCTVRJNFEwSkRMVWhUTWpVMklpd2lZV3huSWpvaVVsTkJMVTlCUlZBaUxDSnJhV1FpT2lJek0yVTBZamRqTnkweE1EUTRMVFE0WW1ZdFlqY3pOeTB4WkdGaU1EbGpNRE16WTJJaWZRLlplRUJqTlFRdWl1a1hHek9UVkM4TU1zUnoxeGRRZmZGb1RMMVdsZk8xOTUweGZfa3NrNmQ1Q0Y0SWgwTmRqVkNXY3NXQXl6WHhmWE1FM0M1bkxvU0R5d1BfbnJWRUNVRUR4el9XM3NKaFBPU0hQVDIxaVJ3SmJTZTJCRmJJdV9QOXN0OTdHaEpyQjN5b2dXMFc3Y2U3bGRwQ0xlZHJIQnBDZElmLU9KNW55WWo2Z2Jxcl9SSVc5QVlWQzVvR1RBbG1RcWdMSzJSWmpFVWxKQXpRcmpFX3ROUXBqbmxPdGVvV0ZfY3ZQeVkzdFYxZTJORm1uV2xfb0dHWnZrZnk5QmR6OFlVc2hKSmk2VHM0SGhGUTBkc0Q1M3gwYXRQVU42ZjhQTWs1MEs1bmdBcXBIVUw5Xzh6b2ZFYl91NXQ2aGdCV2tsT1BsTDNqN0xYSnZFc3JucDhRdy5OZDliZnA1enVFMlJ2dmVySENsMWJ3LkpkX1RkNGlkTzZsZzRSaFZ5YWFMUE54SHpab0JpRmtPN2FkZVc5OUVucDV6bURvVnpPanhMZXdYSVBzUFJYcUdVY0NWQVZSdVZRR21Jbk9KTi1vaUlIbzVkbUp5ZnpVM3JKY0RfQzZQeThFa084dnF6alBraV9jSTF3YXE3VG9pMzFNX0J6QW5VcW4xQTQxSk05T082TlpwYlB2OTFoaXE0OTlFanR3c1pfcnAtRUVSMTgxRnRaZ3VTekpRbUh6OEptbnNHdHUyTHBZdXFWYjN5VlFNVWZoNC13d0JLUmdfTHd4Z0FvTlFURjhSWEZzSE1XVlpIWk5HU2E5eW51bWoydWhCcW5KYmV5LUlEUmFZc005Y1JETHFJZHM1cTdFdm4xUjI2RlFOalp5VUxMM2ZRVlBreXJuVTRvM2x0TjVOdExNMXdRVi16WnRTTFZ0MUNmREM3eGM5UGhKN1hnT01VQi1xOXpwNTJneWd5a2hkaWpKVndPVk5pSlVkZUlGbC5qbXI0R2JsUE5mR2V4V01aZkhEUFNBIiwiaWF0IjoxNjg0NDE2MzEyLCJleHAiOjE2ODQ0MjM1MTJ9.RYnCRaK6E3BpelV8QJ-8s1hT24yzVY5ZE9BEKP1PuFhlRNUdWQDzIgNamgT-Ck1TKdVrbYa2zBR8nwxLNghXDhvha6odSKjIoypCsobWwzrriWT8wW6CMfNS6Z4Kf1I1LZ1h2EnLHzDurFeYfLc-2g8ZOH_zFOJQmjZ-B9Oag_-Jvdp1AeXVTP2_J-nzn5QHswMsQiyEjbBU2bYmGvJSNR9UEw4v6mJYtJSm9dUX-OIaYViJxMcPB7w8Oev0l2HIs8CQPmSBl7jiJMbp1cODh95R0aCEKMXUMeSbq0S6v5QkYCOD6uYETN1OX7BGXzphzdHT1emiNuRr1waTG7Ujag' \
  --data '{
    "templateId": "fa862e8a9071876c0fe2a1d070b6c9805c56a2277f2254f45dff61842fe6e929161713f1f56abccb553bc7dbce23969e3284fc35ff480cb6425d308f7c371aec",
    "recipients": [{ "id": "2904412532_18_06", "rnokpp": "2904412532" }]}'
